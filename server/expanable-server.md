title:可自由扩展的服务器
date:2013/5/10

最近发现大问题,我很难扩展我的网站.

比如我想给biedalian上放一个简历,或者增加一个服务记录访问数的服务

这些就非常困难.因为一开始我就把很多接管了所有路径,导致扩展非常困难.

我希望的服务器形态是可以有多个服务,比如

weibo.biedalian.com, jianli.biedalian.com, blog.biedalian.com

而且他们可以分别写程序.

如果要这种需求

biedalian.com/weibo, biedalian.com/jianli, biedalian.com/blog

这个就简单多了,但这样会影响其他程序,weibo我就必须只用weibo/的前缀,而且这样的做法就是跟php差不多了.按文件夹分.不过这也是可以考虑的.

第二种就是转发,我设置一个主服务器(http)
  
比如jianli这个server是监听1024端口,那主服务器就转发到1024上.

这样的话,每个服务器都非常自由,想关就关.毫无耦合,也是我准备做的结构

但这样需要单独配置每个服务的对应关系,比如jianli对应1024,万一我关了呢?

而且对于这样的结构,服务器迁移也成了问题,我必须带着这个配置以及一坨服务一起迁过去

同时我每次启动都要启动一堆嘛?

问题很多,唯一庆幸的是第二种和第一种可以共存,那种类似php的方法可以作为第二种结构的子服务

所以先写个类似apache+php的东西先


